import{i as p,u,a as f,b as i,r as j,f as y,j as e,g as v,L as w,H as n,S as N,h as k,z as c,t as z}from"./index-Ci9oMHAa.js";import{A}from"./arrow-left-SMgDQBYu.js";import{S as L}from"./star-C7b-jHdz.js";function $(){const{id:x}=p(),r=u(),m=f(),{items:h,status:l}=i(t=>t.products),{user:d}=i(t=>t.auth),{items:g}=i(t=>t.wishlist);j.useEffect(()=>{l==="idle"&&r(y())},[l,r]);const s=h.find(t=>t.id.toString()===x),a=s?g.some(t=>t.gameId===s.id):!1,o=()=>{if(!d){c.error("Vui lòng đăng nhập!"),m("/login");return}s&&r(z({userId:d.id,gameId:s.id}))};return l==="loading"?e.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:e.jsx(v,{className:"animate-spin text-blue-600",size:40})}):s?e.jsxs("div",{className:"w-full relative",children:[e.jsxs("div",{className:"w-full h-[300px] rounded-[32px] overflow-hidden relative mb-8 shadow-md",children:[e.jsx("img",{src:s.cover,alt:"",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),e.jsxs(w,{to:"/",className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md text-gray-800 px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-white transition font-bold shadow-sm",children:[e.jsx(A,{size:18})," Back"]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-2",children:s.name}),e.jsxs("div",{className:"flex gap-3 text-gray-500 text-sm font-medium",children:[e.jsxs("span",{className:"bg-white border border-gray-200 px-3 py-1 rounded-lg flex items-center gap-2 shadow-sm",children:[e.jsx(L,{size:14,className:"text-yellow-500 fill-yellow-500"})," ",s.rating]}),e.jsx("span",{className:"bg-white border border-gray-200 px-3 py-1 rounded-lg shadow-sm",children:s.genre}),e.jsx("span",{className:"bg-white border border-gray-200 px-3 py-1 rounded-lg shadow-sm",children:s.release})]})]}),e.jsx("button",{onClick:o,className:`xl:hidden p-3 rounded-2xl border transition flex items-center justify-center ${a?"bg-red-50 text-red-500 border-red-200":"bg-white text-gray-400 border-gray-200"}`,children:e.jsx(n,{size:24,className:a?"fill-red-500":""})})]}),e.jsxs("div",{className:"prose max-w-none text-gray-600 leading-relaxed",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"About"}),e.jsx("p",{children:s.desc})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Gallery"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.footage&&s.footage.map((t,b)=>e.jsx("img",{src:t,className:"rounded-2xl hover:opacity-90 transition cursor-pointer h-40 object-cover w-full shadow-sm",alt:""},b))})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-gray-200 shadow-lg sticky top-4",children:[e.jsx("img",{src:s.cover,alt:"",className:"w-full h-48 object-cover rounded-2xl mb-6 shadow-md"}),e.jsxs("div",{className:"flex justify-between items-end mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 line-through text-sm",children:"$99.99"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",s.price]})]}),e.jsx("span",{className:"bg-red-50 text-red-600 text-xs font-bold px-2 py-1 rounded border border-red-100",children:"-50%"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{r(k(s)),c.success("Đã thêm vào giỏ!")},className:"flex-1 bg-gray-900 hover:bg-blue-600 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transition active:scale-95",children:[e.jsx(N,{size:20})," Add to Cart"]}),e.jsx("button",{onClick:o,className:`w-16 rounded-2xl flex items-center justify-center border transition active:scale-95 ${a?"bg-red-50 text-red-500 border-red-200 shadow-md":"bg-white border-gray-200 text-gray-400 hover:border-gray-400"}`,children:e.jsx(n,{size:24,className:a?"fill-red-500":""})})]})]})})]})]}):e.jsx("div",{className:"text-center text-gray-500 mt-20",children:"Không tìm thấy game!"})}export{$ as default};
