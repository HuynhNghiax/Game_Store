import{d,b as c,u as o,a as x,j as e,L as h,o as g,z as m,p,q as u}from"./index-CG5L3lJJ.js";const y=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],j=d("credit-card",y);const b=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],v=d("trash-2",b);function N(){const{items:t,totalAmount:a}=c(s=>s.cart),{user:r}=c(s=>s.auth),n=o(),l=x(),i=async()=>{if(!r){m.error("Vui lòng đăng nhập để thanh toán!"),l("/login");return}const s={userId:r.id,items:t,totalAmount:a,date:new Date().toISOString(),status:"Completed"};await n(p(s)),n(u()),l("/success")};return t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center",children:[e.jsx("h2",{className:"text-3xl text-gray-800 font-bold mb-4",children:"Giỏ hàng đang trống"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Bạn chưa chọn game nào cả."}),e.jsx(h,{to:"/",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold transition",children:"Quay lại mua sắm"})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:["Giỏ hàng (",t.length,")"]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsx("div",{className:"xl:col-span-2 space-y-4",children:t.map(s=>e.jsxs("div",{className:"flex gap-4 bg-white p-4 rounded-2xl border border-gray-200 shadow-sm items-center",children:[e.jsx("img",{src:s.cover,alt:s.name,className:"w-24 h-32 object-cover rounded-xl shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-1 truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-blue-600 font-bold text-lg",children:["$",s.price]}),e.jsxs("span",{className:"text-gray-500 text-sm bg-gray-100 px-2 py-1 rounded-lg",children:["Qty: ",s.quantity]})]})]}),e.jsx("div",{className:"flex flex-col gap-2 shrink-0",children:e.jsx("button",{onClick:()=>n(g(s.id)),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",children:e.jsx(v,{size:20})})})]},s.id))}),e.jsx("div",{className:"xl:col-span-1",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg sticky top-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tổng kết"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-500",children:[e.jsx("span",{children:"Tạm tính"}),e.jsxs("span",{children:["$",a.toFixed(2)]})]}),e.jsx("div",{className:"h-px bg-gray-200 my-4"}),e.jsxs("div",{className:"flex justify-between text-2xl font-bold text-gray-900",children:[e.jsx("span",{children:"Tổng cộng"}),e.jsxs("span",{children:["$",a.toFixed(2)]})]})]}),e.jsxs("button",{onClick:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl text-lg shadow-lg transition active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(j,{size:20})," Thanh toán ngay"]})]})})]})]})}export{N as default};
